(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{27:function(e,t,n){},28:function(e,t,n){},30:function(e,t,n){},32:function(e,t,n){},33:function(e,t,n){},39:function(e,t,n){},40:function(e,t,n){"use strict";n.r(t);var c=n(1),s=n.n(c),r=n(19),a=n.n(r),i=n(22),o=n(9),u=n(2),j=(n(27),n(28),n(0)),l=function(e){var t=e.children;return Object(j.jsx)("button",{type:"submit",className:"btn btn_log",children:t})},b=function(e){var t=e.children;return Object(j.jsx)("button",{type:"submit",className:"btn btn_create",children:t})},d=function(e){var t=e.children,n=e.func;return Object(j.jsx)("button",{onClick:function(){return n()},type:"submit",className:"btn btn_out",children:t})},h=(n(30),function(e){var t=e.children;return Object(j.jsx)("h1",{className:"title",children:t})}),O=function(e){var t=e.children,n=e.status;return Object(j.jsx)("p",{className:n?"message good":"message",children:t})},p=function(e){var t=e.cookies;return Object(j.jsxs)("div",{children:[Object(j.jsxs)(h,{children:["Hello ",t.cookies.user,"!"]}),Object(j.jsx)(d,{func:function(){t.remove("token"),t.remove("user"),window.location.reload()},children:"Logout"})]})},m=n(10),x=n.n(m),f=n(13),g=n(7),v=(n(32),function(e){var t=e.children;return Object(j.jsx)("div",{className:"auth",children:t})}),w=(n(33),function(){return Object(j.jsx)("div",{className:"loadingio-spinner-dual-ring-1fdhfj3029l",children:Object(j.jsxs)("div",{className:"ldio-t6jw9nqcnq",children:[Object(j.jsx)("div",{}),Object(j.jsx)("div",{children:Object(j.jsx)("div",{})})]})})}),k=function(e){var t=e.cookies,n=Object(c.useState)(""),s=Object(g.a)(n,2),r=s[0],a=s[1],i=Object(c.useState)(""),u=Object(g.a)(i,2),b=u[0],d=u[1],p=Object(c.useState)(""),m=Object(g.a)(p,2),k=m[0],y=m[1],N=Object(c.useState)(!1),S=Object(g.a)(N,2),L=S[0],C=S[1];function q(e){e.preventDefault(),function(){P.apply(this,arguments)}()}function P(){return(P=Object(f.a)(x.a.mark((function e(){var n,c;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return C(!0),e.next=3,fetch("https://auth-api-v0.herokuapp.com/auth/login",{method:"POST",headers:{"Content-Type":"application/json;charset=utf-8"},body:JSON.stringify({username:r,password:b})});case 3:return n=e.sent,e.next=6,n.json();case 6:c=e.sent,n.ok?(t.set("token",c.token,{path:"/"}),t.set("user",c.username,{path:"/"}),y(""),window.location.reload()):y(c.message),d(""),C(!1);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(j.jsxs)(v,{children:[L?Object(j.jsx)(w,{}):null,Object(j.jsx)(h,{children:"Log in to continue"}),Object(j.jsxs)("form",{onSubmit:function(e){return q(e)},className:"form",children:[Object(j.jsx)("label",{htmlFor:"username",children:"Username"}),Object(j.jsx)("input",{onChange:function(e){return a(e.target.value)},type:"text",name:"username",value:r,required:!0,minLength:4,maxLength:16}),Object(j.jsx)("label",{htmlFor:"password",children:"Password"}),Object(j.jsx)("input",{onChange:function(e){return d(e.target.value)},type:"password",name:"password",value:b,required:!0,minLength:6,maxLength:20}),k?Object(j.jsx)(O,{children:k}):null,Object(j.jsx)(l,{children:"Login"}),Object(j.jsx)(o.b,{to:"/register",className:"link",children:"New User?"})]})]})},y=n(17),N=function(){var e=Object(c.useState)(""),t=Object(g.a)(e,2),n=t[0],s=t[1],r=Object(c.useState)(""),a=Object(g.a)(r,2),i=a[0],u=a[1],l=Object(c.useState)(""),d=Object(g.a)(l,2),p=d[0],m=d[1],k=Object(c.useState)(""),N=Object(g.a)(k,2),S=N[0],L=N[1],C=Object(c.useState)(!1),q=Object(g.a)(C,2),P=q[0],F=q[1],T=Object(c.useState)(!1),U=Object(g.a)(T,2),J=U[0],_=U[1];function D(e){if(e.preventDefault(),i!==p)return m(""),void L("The entered passwords do not match.");!function(){H.apply(this,arguments)}()}function H(){return(H=Object(f.a)(x.a.mark((function e(){var t,c;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return _(!0),e.next=3,fetch("https://auth-api-v0.herokuapp.com/auth/registration",{method:"POST",headers:{"Content-Type":"application/json;charset=utf-8"},body:JSON.stringify({username:n,password:i})});case 3:return t=e.sent,e.next=6,t.json();case 6:c=e.sent,t.ok?(F(!0),L("User created successfully")):(F(!1),L(c.message)),u(""),m(""),_(!1);case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(j.jsxs)(v,{children:[J?Object(j.jsx)(w,{}):null,Object(j.jsx)(h,{children:"New User"}),Object(j.jsxs)("form",{onSubmit:function(e){return D(e)},className:"form",children:[Object(j.jsx)("label",{htmlFor:"username",children:"Username"}),Object(j.jsx)("input",{onChange:function(e){return s(e.target.value)},type:"text",name:"username",value:n,required:!0,minLength:4,maxLength:16}),Object(j.jsx)("label",{htmlFor:"password",children:"Password"}),Object(j.jsx)("input",{onChange:function(e){return u(e.target.value)},type:"password",name:"password",value:i,required:!0,minLength:6,maxLength:20}),Object(j.jsx)("label",{htmlFor:"repeatPassword",children:"Repeat password"}),Object(j.jsx)("input",{onChange:function(e){return m(e.target.value)},type:"password",name:"repeatPassword",value:p,required:!0,minLength:6,maxLength:20}),S?Object(j.jsx)(O,Object(y.a)(Object(y.a)({},P?{status:"good"}:null),{},{children:S})):null,Object(j.jsx)(b,{children:"Create"}),Object(j.jsx)(o.b,{to:"/login",className:"link",children:"Have an account?"})]})]})},S=function(){var e=new i.a;return Object(j.jsx)(o.a,{children:Object(j.jsx)("div",{className:"app",children:Object(j.jsxs)(u.d,{children:[Object(j.jsx)(u.b,{path:"/login",children:e.get("token")?Object(j.jsx)(u.a,{to:"/app"}):Object(j.jsx)(k,{cookies:e})}),Object(j.jsx)(u.b,{path:"/register",children:e.get("token")?Object(j.jsx)(u.a,{to:"/app"}):Object(j.jsx)(N,{})}),Object(j.jsx)(u.b,{path:"/app",children:e.get("token")?Object(j.jsx)(p,{cookies:e}):Object(j.jsx)(u.a,{to:"/login"})}),Object(j.jsx)(u.a,{to:"/app"})]})})})};n(39);a.a.render(Object(j.jsx)(s.a.StrictMode,{children:Object(j.jsx)(S,{})}),document.getElementById("root"))}},[[40,1,2]]]);
//# sourceMappingURL=main.addd76bc.chunk.js.map