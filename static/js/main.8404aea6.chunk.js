(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{27:function(e,t,n){},28:function(e,t,n){},30:function(e,t,n){},32:function(e,t,n){},33:function(e,t,n){},39:function(e,t,n){},40:function(e,t,n){"use strict";n.r(t);var c=n(1),s=n.n(c),r=n(19),a=n.n(r),i=n(4),o=n(22),u=n(9),j=n(2),l=(n(27),n(28),n(0)),b=function(e){var t=e.children;return Object(l.jsx)("button",{type:"submit",className:"btn btn_log",children:t})},h=function(e){var t=e.children;return Object(l.jsx)("button",{type:"submit",className:"btn btn_create",children:t})},d=function(e){var t=e.children,n=e.func;return Object(l.jsx)("button",{onClick:function(){return n()},type:"submit",className:"btn btn_out",children:t})},p=(n(30),function(e){var t=e.children;return Object(l.jsx)("h1",{className:"title",children:t})}),O=function(e){var t=e.children,n=e.status;return Object(l.jsx)("p",{className:n?"message good":"message",children:t})},m=function(e){var t=e.cookies,n=e.onLogout;return console.log(t),Object(l.jsxs)("div",{children:[Object(l.jsxs)(p,{children:["Hello ",t.cookies.user,"!"]}),Object(l.jsx)(d,{func:n,children:"Logout"})]})},x=n(10),f=n.n(x),g=n(13),v=(n(32),function(e){var t=e.children;return Object(l.jsx)("div",{className:"auth",children:t})}),S=(n(33),function(){return Object(l.jsx)("div",{className:"loadingio-spinner-dual-ring-1fdhfj3029l",children:Object(l.jsxs)("div",{className:"ldio-t6jw9nqcnq",children:[Object(l.jsx)("div",{}),Object(l.jsx)("div",{children:Object(l.jsx)("div",{})})]})})}),w=function(e){e.cookies;var t=e.onLogin,n=Object(c.useState)(""),s=Object(i.a)(n,2),r=s[0],a=s[1],o=Object(c.useState)(""),j=Object(i.a)(o,2),h=j[0],d=j[1],m=Object(c.useState)(""),x=Object(i.a)(m,2),w=x[0],k=x[1],y=Object(c.useState)(!1),L=Object(i.a)(y,2),N=L[0],A=L[1];function C(e){e.preventDefault(),function(){q.apply(this,arguments)}()}function q(){return(q=Object(g.a)(f.a.mark((function e(){var n,c;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return A(!0),e.next=3,fetch("https://auth-api-v0.herokuapp.com/auth/login",{method:"POST",headers:{"Content-Type":"application/json;charset=utf-8"},body:JSON.stringify({username:r,password:h})});case 3:return n=e.sent,e.next=6,n.json();case 6:c=e.sent,n.ok?(t(c),k("")):k(c.message),d(""),A(!1);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(l.jsxs)(v,{children:[N?Object(l.jsx)(S,{}):null,Object(l.jsx)(p,{children:"Log in to continue"}),Object(l.jsxs)("form",{onSubmit:function(e){return C(e)},className:"form",children:[Object(l.jsx)("label",{htmlFor:"username",children:"Username"}),Object(l.jsx)("input",{onChange:function(e){return a(e.target.value)},type:"text",name:"username",value:r,required:!0,minLength:4,maxLength:16}),Object(l.jsx)("label",{htmlFor:"password",children:"Password"}),Object(l.jsx)("input",{onChange:function(e){return d(e.target.value)},type:"password",name:"password",value:h,required:!0,minLength:6,maxLength:20}),w?Object(l.jsx)(O,{children:w}):null,Object(l.jsx)(b,{children:"Login"}),Object(l.jsx)(u.b,{to:"/SimpleAuth/register",className:"link",children:"New User?"})]})]})},k=n(17),y=function(){var e=Object(c.useState)(""),t=Object(i.a)(e,2),n=t[0],s=t[1],r=Object(c.useState)(""),a=Object(i.a)(r,2),o=a[0],j=a[1],b=Object(c.useState)(""),d=Object(i.a)(b,2),m=d[0],x=d[1],w=Object(c.useState)(""),y=Object(i.a)(w,2),L=y[0],N=y[1],A=Object(c.useState)(!1),C=Object(i.a)(A,2),q=C[0],P=C[1],F=Object(c.useState)(!1),T=Object(i.a)(F,2),U=T[0],J=T[1];function _(e){if(e.preventDefault(),o!==m)return x(""),void N("The entered passwords do not match.");!function(){D.apply(this,arguments)}()}function D(){return(D=Object(g.a)(f.a.mark((function e(){var t,c;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return J(!0),e.next=3,fetch("https://auth-api-v0.herokuapp.com/auth/registration",{method:"POST",headers:{"Content-Type":"application/json;charset=utf-8"},body:JSON.stringify({username:n,password:o})});case 3:return t=e.sent,e.next=6,t.json();case 6:c=e.sent,t.ok?(P(!0),N("User created successfully")):(P(!1),N(c.message)),j(""),x(""),J(!1);case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(l.jsxs)(v,{children:[U?Object(l.jsx)(S,{}):null,Object(l.jsx)(p,{children:"New User"}),Object(l.jsxs)("form",{onSubmit:function(e){return _(e)},className:"form",children:[Object(l.jsx)("label",{htmlFor:"username",children:"Username"}),Object(l.jsx)("input",{onChange:function(e){return s(e.target.value)},type:"text",name:"username",value:n,required:!0,minLength:4,maxLength:16}),Object(l.jsx)("label",{htmlFor:"password",children:"Password"}),Object(l.jsx)("input",{onChange:function(e){return j(e.target.value)},type:"password",name:"password",value:o,required:!0,minLength:6,maxLength:20}),Object(l.jsx)("label",{htmlFor:"repeatPassword",children:"Repeat password"}),Object(l.jsx)("input",{onChange:function(e){return x(e.target.value)},type:"password",name:"repeatPassword",value:m,required:!0,minLength:6,maxLength:20}),L?Object(l.jsx)(O,Object(k.a)(Object(k.a)({},q?{status:"good"}:null),{},{children:L})):null,Object(l.jsx)(h,{children:"Create"}),Object(l.jsx)(u.b,{to:"/SimpleAuth/login",className:"link",children:"Have an account?"})]})]})},L=function(){var e=Object(c.useState)(!0),t=Object(i.a)(e,2),n=t[0],s=t[1],r=new o.a;return Object(c.useEffect)((function(){return function(){return s(!0)}}),[]),Object(l.jsx)(u.a,{children:Object(l.jsx)("div",{className:"app",children:Object(l.jsxs)(j.d,{children:[Object(l.jsx)(j.b,{path:"/SimpleAuth/login",children:r.get("token")?Object(l.jsx)(j.a,{to:"/SimpleAuth/app"}):Object(l.jsx)(w,{cookies:r,onLogin:function(e){r.set("token",e.token,{path:"/SimpleAuth"}),r.set("user",e.username,{path:"/SimpleAuth"}),s(!n)}})}),Object(l.jsx)(j.b,{path:"/SimpleAuth/register",children:r.get("token")?Object(l.jsx)(j.a,{to:"/SimpleAuth/app"}):Object(l.jsx)(y,{})}),Object(l.jsx)(j.b,{path:"/SimpleAuth/app",children:r.get("token")?Object(l.jsx)(m,{cookies:r,onLogout:function(){r.remove("token"),r.remove("user"),s(!n)}}):Object(l.jsx)(j.a,{to:"/SimpleAuth/login"})}),Object(l.jsx)(j.a,{to:"/SimpleAuth/app"})]})})})};n(39);a.a.render(Object(l.jsx)(s.a.StrictMode,{children:Object(l.jsx)(L,{})}),document.getElementById("root"))}},[[40,1,2]]]);
//# sourceMappingURL=main.8404aea6.chunk.js.map